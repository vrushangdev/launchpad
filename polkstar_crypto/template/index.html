<!DOCTYPE html>

<html data-theme="light">

<head>
{% load static %}    
    
    <link rel="shortcut icon" type="image/x-icon"
        href="/packs/media/images/logo/favicon-5c923122dec9213975049aa98a6781a4.svg" />
    <script src="https://unpkg.com/feather-icons"></script>
    <link rel="stylesheet" media="screen" href="{% static 'stylesheets.css' %}" />
    <script src="/packs/js/application-629e22b66833e36bd536.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://cdnjs.cloudflare.com/ajax/libs/noty/3.1.4/noty.css" rel="stylesheet">
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/noty/3.1.4/noty.js"></script>

    <link rel="stylesheet" type="text/css"
        href="https://cdnjs.cloudflare.com/ajax/libs/jquery-datetimepicker/2.5.20/jquery.datetimepicker.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous" />

    <style>
        /* @media screen and (max-width: 450px) { */
            #navbox{
                display: flex;
                width: 100%;
                justify-content: space-between;
                align-items: center;
            }
        /* } */
    </style>
    
</head>

<body>

    <nav class="navbar navbar-expand-lg d-flex justify-content-between navbar-light" style="background-color: #FCF7F8 !important; ">
        <div id="navbox">
            <div class="nav-item py-4 px-4 align-item" style="margin-left: 40px">
                <span><img width="auto" src="https://bsc.revonetwork.app/images/egg/logo.svg" width="40" class="desktop-icon res-img" style="height: 40px; width: auto;"></span>
            </div>
    
            <div class="nav-item align-item" style="margin: 0 0.5rem">
                <div class="hero__actions">
                    {% if eth_address %}
                   
                   <button class="btn btn-danger mx-4 my-4 py-2 px-2"  id="btn-disconnect" onClick="disconnect_wallet()">
                        Disconnect | {{ eth_address | truncatechars:5 }}
                    </button>
            
                    {% else %}
                <div id="prepare">
                    <button class="btn btn-primary mx-4 my-4 py-2 px-2" style="background-color: #5C2AFF;" id="btn-connect">
                          Connect
                    </button>
                </div>
       
                    {% endif %}
                <div id="connected" style="display: none">
                </div>    
             
                </div>
                
            </div>
            
        </div>
      </nav>

    <div id="app-content">

        </div>
        <div class="page-wrapper pb-5">
            <div class="container">
                <h2 class="h2 text--bold mb-4">Revo Exclusive Pools</h2>
                <div class="grid-3">
                {% for pool in Featured_pool_list %}
                    <a class="featured-card" href="{% url 'Pool_Details' pool.id %}" style="text-decoration: none
                    ;">
                        <div class="featured-card__head">
                            <div class="featured-card__img">
                                <img style="max-width: 54px; max-height: 54px;"
                                    src="https://pbs.twimg.com/profile_images/1387085852380106769/LtET0reH_400x400.jpg" />
                            </div>
                        </div>
                        <div class="featured-card__coin">
                            <h2 class="featured-card__coin--name mb-3">
                                {{pool.pool_title}}
                            </h2>
                            <p class="featured-card__title">Total Raise</p>
                            <h2 class="featured-card__ratio">
                                {{pool.swap_amount}}
                            </h2>
                        </div>
                        <div class="featured-card__footer">
                            <div>
                                <p class="featured-card__title--small">Min Allocation</p>
                                <h3 class="featured-card__info" data-target="pool-partial.participants">
                                    {{ pool.pool_min_amount }}
                                </h3>
                            </div>
                            <div>
                                <p class="featured-card__title--small">Max Allocation</p>
                                <h3 class="featured-card__info" data-target="pool-partial.minAllocation">
                                    {{ pool.pool_max_amount }}
                                </h3>
                            </div>

                                <p class="featured-card__title--small">Access</p>
                                <h3 class="featured-card__info" data-target="pool-partial.accessType">
                                    {{ pool.pool_coin_name }}
                                </h3>

                            </div>
                        <div class="pool-hero__progress">
                           <div class="progress">
                                <div class="progress-bar featured-card__step-1 d-none"
                                    data-target="pool-partial.minSwapLevelProgressBar" role="progressbar"
                                    style="width: 0%" aria-valuemin="0" aria-valuemax="100"></div>
                                <div class="progress-bar featured-card__step-2" role="progressbar" style="width:{{ pool.pool_progress  }}%"
                                    aria-valuemin="0" aria-valuemax="100" data-target="pool-partial.progressBar"></div>
<!--                             </div>
 -->                           
                            </div>
                            <div id="whitelist_status">
                                

                            </div>
                            </div>
                            <div>
                        </div>
                    </a>
                    {% endfor %}
                </div>
            </div>
        </div>        
            
        <div class="container">
            <div class="subscribe">
                <div class="subscribe__content">
                    <h2>Get Alerts For New Pools</h2>
                    <h3>Join Our Free Telegram Channel For Upcoming Pools.</h3>
                    <button   class="button button--secondary">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/8/83/Telegram_2019_Logo.svg" width="30"></img>
                        <a  href="https://t.me/RevoNetworkapp" style="text-decoration: none; text-decoration-color: white !important;">  Subscribe </a>
                    </button>
                </div>
                <div class="subscribe__illustration"></div>
            </div>
        </div>
    </div>
    <footer class="footer bg-dark mt-5">
        <div class="container">
            <div class="footer__grid">
                    <div class="copyright text-light">
                        Â© Revo Network Launch Pad 2021
                    </div>

            </div>
        </div>
    </footer>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/web3/1.3.5/web3.min.js" integrity="sha512-S/O+gH5szs/+/dUylm15Jp/JZJsIoWlpSVMwT6yAS4Rh7kazaRUxSzFBwnqE2/jBphcr7xovTQJaopiEZAzi+A==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdn.jsdelivr.net/npm/jdenticon@3.1.0/dist/jdenticon.min.js" async
        integrity="sha384-VngWWnG9GS4jDgsGEUNaoRQtfBGiIKZTiXwm9KpgAeaRn6Y/1tAFiyXqSzqC8Ga/" crossorigin="anonymous">
    </script>
    <script type="text/javascript" src="https://unpkg.com/web3@1.2.11/dist/web3.min.js"></script>
    <script type="text/javascript" src="https://unpkg.com/web3modal@1.9.0/dist/index.js"></script>
    <script type="text/javascript" src="https://unpkg.com/evm-chains@0.2.0/dist/umd/index.min.js"></script>
    <script type="text/javascript" src="https://unpkg.com/@walletconnect/web3-provider@1.2.1/dist/umd/index.min.js"></script>
    <script type="text/javascript" src="https://unpkg.com/fortmatic@2.0.6/dist/fortmatic.js"></script>
    <script type = "text/javascript">

        async function getAccount() {
             const accounts = await ethereum.request({ method: 'eth_requestAccounts' });
             const account = accounts[0];
            return account;
            }

      function connect_wallet(){

        if (typeof window.ethereum !== 'undefined') {
        console.log('MetaMask is installed!');
            getAccount().then(function(value) { 
                
                console.log(value);
                var connect_button = document.getElementById('connect_button');
                connect_button.innerText = value;
                return value
                },
            function(error) { console.log(error) } 

            ).then(
                function(value){
                    console.log(value);
                    $.ajax({
                        type: 'POST',
                        url: "{% url 'update_session' %} ",
                        data:{
                            'eth_address':value,
                        },
                        success: function(response){
                            console.log(response);
                            window.location.href = "{% url 'Index' %}";

                        },
                        error: function(error){
                            console.log(error);
                        }
                    })
                }
            );
     

        }

      }


      function disconnect_wallet(){
        var answer = confirm('Are you sure you want to disconnect your wallet?');
        console.log(answer)
        if(answer){
             $.ajax({
                        type: 'POST',
                        url: "{% url 'update_session' %} ",
                        data:{
                            'eth_address': null,
                        },
                        success: function(response){
                            console.log(response);
                            window.location.href = "/";
                        },
                        error: function(error){
                            console.log(error);
                        }
                    })
             window.location.href = "{% url 'Index' %}";
        }
      }
     </script>  
     <script type="text/javascript" src="{% static 'example.js' %}"></script>

    </body>

</html>